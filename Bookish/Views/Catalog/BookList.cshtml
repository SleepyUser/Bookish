@using Microsoft.EntityFrameworkCore.Metadata.Internal
@model Bookish.Models.BookViewModel

@{
    ViewBag.Title = "Book List";
}

<!DOCTYPE html>

<html lang="en">
    <head>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css">
        <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js"></script>

        <title>Book List</title>
    </head>
    <body>
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16" style="cursor:pointer; color: darkred; display: none">
    <defs>
        <symbol id="trash-icon" viewBox="0 0 16 16">
            <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
            <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
        </symbol>
    </defs>
</svg>
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16" style="cursor:pointer; display: none; color:dodgerblue">
    <defs>
        <symbol id="pencil-icon" viewBox="0 0 16 16">
            <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
        </symbol>
    </defs>
</svg>

<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stack" viewBox="0 0 16 16" style="cursor:pointer; display: none; color:forestgreen">
    <defs>
        <symbol id="copies-icon" viewBox="0 0 16 16">
            <path d="m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.598.598 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.598.598 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.598.598 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535L7.733.063z"/>
            <path d="m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.598.598 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.659z"/>
        </symbol>
    </defs>
</svg>

    <div>
    <table class="display" id="myTable">
        <thead>
            <tr>
            <th></th>
                <th>Title</th>
                <th>Author Name</th>
                <th>Publisher</th>
                <th>ISBN</th>
                <th>DatePublished</th>
                <th>Copies</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        @for (int i = 0; i < Model.CatalogEntries.Count; i++)
            {
                <tr>
                <td>
                    <label>
                        <input type="button" value="@Model.CatalogEntries[i].BookID" style="display: none" onclick="location.href='@Url.Action("Delete", "Catalog")' + '?bookId=' + '@Model.CatalogEntries[i].BookID'" />
                        <svg width="16" height="16" fill="currentColor" class="bi bi-stack" viewBox="0 0 16 16" style="cursor:pointer; color: forestgreen"><use href="#copies-icon"/></svg>
                    </label>
                </td>
                <td>@Model.CatalogEntries[i].Title</td>
                <td>@Model.CatalogEntries[i].Author.AuthorSurname, @Model.CatalogEntries[i].Author.AuthorForename</td>
                <td>@Model.CatalogEntries[i].Publisher</td>
                <td>@Model.CatalogEntries[i].ISBN</td>
                <td>@Model.CatalogEntries[i].DatePublished.ToString("yyyy-MM-dd")</td>
                <td>@Model.CatalogEntries[i].CopyList.Count</td>
                <td>
                    <label>
                        <input type="button" value="@Model.CatalogEntries[i].BookID" style="display: none" onclick="location.href='@Url.Action("Edit", "Catalog")' + '?bookId=' + '@Model.CatalogEntries[i].BookID'"/>
                        <svg width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16" style="cursor:pointer; color:dodgerblue"><use href="#pencil-icon"/></svg>
                    </label>
                </td>
                <td>
                    <label>
                        <input type="button" value="@Model.CatalogEntries[i].BookID" style="display: none" onclick="location.href='@Url.Action("Delete", "Catalog")' + '?bookId=' + '@Model.CatalogEntries[i].BookID'"/>
                        <svg width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16" style="cursor:pointer; color: darkred"><use href="#trash-icon"/></svg>
                    </label>
                </td>
            </tr>
            }
        </tbody>
    </table>
</div>
</body>
    <script>
        $(document).ready( function () {
            $('#myTable').DataTable();
        } );
    </script>
</html>